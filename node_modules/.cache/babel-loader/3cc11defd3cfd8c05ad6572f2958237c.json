{"ast":null,"code":"/*!\n * chartjs-plugin-style v0.5.0\n * https://nagix.github.io/chartjs-plugin-style\n * (c) 2019 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) : typeof define === 'function' && define.amd ? define(['chart.js'], factory) : (global = global || self, global.ChartStyle = factory(global.Chart));\n})(this, function (Chart) {\n  'use strict';\n\n  Chart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n  var helpers = Chart.helpers;\n  var optionsHelpers = helpers.options || {};\n  var optionsHelpers$1 = helpers.extend(optionsHelpers, {\n    // For Chart.js 2.6.0 backward compatibility\n    resolve: optionsHelpers.resolve || function (inputs, context, index) {\n      var i, ilen, value;\n\n      for (i = 0, ilen = inputs.length; i < ilen; ++i) {\n        value = inputs[i];\n\n        if (value === undefined) {\n          continue;\n        }\n\n        if (context !== undefined && typeof value === 'function') {\n          value = value(context);\n        }\n\n        if (index !== undefined && helpers.isArray(value)) {\n          value = value[index];\n        }\n\n        if (value !== undefined) {\n          return value;\n        }\n      }\n    }\n  });\n  var helpers$1 = Chart.helpers;\n  var resolve = optionsHelpers$1.resolve;\n  var OFFSET = 1000000;\n\n  function isColorOption(key) {\n    return key.indexOf('Color') !== -1;\n  }\n\n  var styleHelpers = {\n    styleKeys: ['shadowOffsetX', 'shadowOffsetY', 'shadowBlur', 'shadowColor', 'bevelWidth', 'bevelHighlightColor', 'bevelShadowColor', 'innerGlowWidth', 'innerGlowColor', 'outerGlowWidth', 'outerGlowColor', 'backgroundOverlayColor', 'backgroundOverlayMode'],\n    lineStyleKeys: ['shadowOffsetX', 'shadowOffsetY', 'shadowBlur', 'shadowColor', 'outerGlowWidth', 'outerGlowColor'],\n    pointStyleKeys: ['pointShadowOffsetX', 'pointShadowOffsetY', 'pointShadowBlur', 'pointShadowColor', 'pointBevelWidth', 'pointBevelHighlightColor', 'pointBevelShadowColor', 'pointInnerGlowWidth', 'pointInnerGlowColor', 'pointOuterGlowWidth', 'pointOuterGlowColor', 'pointBackgroundOverlayColor', 'pointBackgroundOverlayMode'],\n    hoverStyleKeys: ['hoverShadowOffsetX', 'hoverShadowOffsetY', 'hoverShadowBlur', 'hoverShadowColor', 'hoverBevelWidth', 'hoverBevelHighlightColor', 'hoverBevelShadowColor', 'hoverInnerGlowWidth', 'hoverInnerGlowColor', 'hoverOuterGlowWidth', 'hoverOuterGlowColor', 'hoverBackgroundOverlayColor', 'hoverBackgroundOverlayMode'],\n    pointHoverStyleKeys: ['pointHoverShadowOffsetX', 'pointHoverShadowOffsetY', 'pointHoverShadowBlur', 'pointHoverShadowColor', 'pointHoverBevelWidth', 'pointHoverBevelHighlightColor', 'pointHoverBevelShadowColor', 'pointHoverInnerGlowWidth', 'pointHoverInnerGlowColor', 'pointHoverOuterGlowWidth', 'pointHoverOuterGlowColor', 'pointHoverBackgroundOverlayColor', 'pointHoverBackgroundOverlayMode'],\n    drawBackground: function (view, drawCallback) {\n      var borderWidth = view.borderWidth;\n      view.borderWidth = 0;\n      drawCallback();\n      view.borderWidth = borderWidth;\n    },\n    drawBorder: function (view, drawCallback) {\n      var backgroundColor = view.backgroundColor;\n\n      if (view.borderWidth) {\n        view.backgroundColor = 'rgba(0, 0, 0, 0)';\n        drawCallback();\n        view.backgroundColor = backgroundColor;\n      }\n    },\n    drawShadow: function (chart, options, drawCallback, backmost) {\n      var ctx = chart.ctx;\n      var pixelRatio = chart.currentDevicePixelRatio;\n      ctx.save();\n      ctx.shadowOffsetX = (options.shadowOffsetX + OFFSET) * pixelRatio;\n      ctx.shadowOffsetY = options.shadowOffsetY * pixelRatio;\n      ctx.shadowBlur = options.shadowBlur * pixelRatio;\n      ctx.shadowColor = options.shadowColor;\n\n      if (backmost) {\n        ctx.globalCompositeOperation = 'destination-over';\n      }\n\n      ctx.translate(-OFFSET, 0);\n      drawCallback();\n      ctx.restore();\n    },\n    setPath: function (ctx, drawCallback) {\n      ctx.save();\n      ctx.beginPath();\n      ctx.clip();\n      drawCallback();\n      ctx.restore();\n    },\n    drawBevel: function (chart, options, drawCallback) {\n      var ctx = chart.ctx;\n      var pixelRatio = chart.currentDevicePixelRatio;\n      var shadowWidthFactor = pixelRatio * 5 / 6;\n      var width = options.bevelWidth * shadowWidthFactor;\n      var borderWidth = options.borderWidth;\n      var parsedBorderWidth = options.parsedBorderWidth;\n      var shadowOffset, offset;\n\n      if (!width) {\n        return;\n      }\n\n      if (!this.opaque(options.borderColor)) {\n        shadowOffset = {\n          top: width,\n          left: width,\n          bottom: width,\n          right: width\n        };\n      } else if (parsedBorderWidth) {\n        shadowOffset = {\n          top: width + parsedBorderWidth.top * pixelRatio,\n          left: width + parsedBorderWidth.left * pixelRatio,\n          bottom: width + parsedBorderWidth.bottom * pixelRatio,\n          right: width + parsedBorderWidth.right * pixelRatio\n        };\n      } else {\n        offset = width + (borderWidth > 0 ? borderWidth : 0) * pixelRatio / 2;\n        shadowOffset = {\n          top: offset,\n          left: offset,\n          bottom: offset,\n          right: offset\n        };\n      }\n\n      ctx.save();\n      this.setPath(ctx, drawCallback);\n      ctx.clip(); // Make stencil\n\n      ctx.translate(-OFFSET, 0);\n      this.setPath(ctx, drawCallback);\n      ctx.rect(0, 0, chart.width, chart.height); // Draw bevel shadow\n\n      ctx.fillStyle = 'black';\n      ctx.shadowOffsetX = OFFSET * pixelRatio - shadowOffset.right;\n      ctx.shadowOffsetY = -shadowOffset.bottom;\n      ctx.shadowBlur = width;\n      ctx.shadowColor = options.bevelShadowColor; // Workaround for the issue on Windows version of FireFox\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=1333090\n      // If the destination has transparency, the result will be different\n\n      if (!(navigator && navigator.userAgent.match('Windows.+Firefox'))) {\n        ctx.globalCompositeOperation = 'source-atop';\n      }\n\n      ctx.fill('evenodd'); // Draw Bevel highlight\n\n      ctx.shadowOffsetX = OFFSET * pixelRatio + shadowOffset.left;\n      ctx.shadowOffsetY = shadowOffset.top;\n      ctx.shadowColor = options.bevelHighlightColor;\n      ctx.fill('evenodd');\n      ctx.restore();\n    },\n    drawGlow: function (chart, options, drawCallback, isOuter) {\n      var ctx = chart.ctx;\n      var width = isOuter ? options.outerGlowWidth : options.innerGlowWidth;\n      var borderWidth = options.borderWidth;\n      var pixelRatio = chart.currentDevicePixelRatio;\n\n      if (!width) {\n        return;\n      }\n\n      ctx.save(); // Clip inner or outer area\n\n      this.setPath(ctx, drawCallback);\n\n      if (isOuter) {\n        ctx.rect(0, 0, chart.width, chart.height);\n      }\n\n      ctx.clip('evenodd'); // Set path\n\n      ctx.translate(-OFFSET, 0);\n      this.setPath(ctx, drawCallback);\n\n      if (!isOuter) {\n        ctx.rect(0, 0, chart.width, chart.height);\n      } // Draw glow\n\n\n      ctx.lineWidth = borderWidth;\n      ctx.strokeStyle = 'black';\n      ctx.fillStyle = 'black';\n      ctx.shadowOffsetX = OFFSET * pixelRatio;\n      ctx.shadowBlur = width * pixelRatio;\n      ctx.shadowColor = isOuter ? options.outerGlowColor : options.innerGlowColor;\n      ctx.fill('evenodd');\n\n      if (borderWidth) {\n        ctx.stroke();\n      }\n\n      ctx.restore();\n    },\n    drawInnerGlow: function (chart, options, drawCallback) {\n      this.drawGlow(chart, options, drawCallback);\n    },\n    drawOuterGlow: function (chart, options, drawCallback) {\n      this.drawGlow(chart, options, drawCallback, true);\n    },\n    drawBackgroundOverlay: function (chart, options, drawCallback) {\n      var ctx = chart.ctx;\n      var color = options.backgroundOverlayColor;\n\n      if (!color) {\n        return;\n      }\n\n      ctx.save();\n      this.setPath(ctx, drawCallback);\n      ctx.fillStyle = color;\n      ctx.globalCompositeOperation = options.backgroundOverlayMode;\n      ctx.fill();\n      ctx.restore();\n    },\n    opaque: function (color) {\n      return helpers$1.color(color).alpha() > 0;\n    },\n    getHoverColor: function (color) {\n      return color !== undefined ? helpers$1.getHoverColor(color) : color;\n    },\n    mergeStyle: function (target, source) {\n      if (target === undefined || source === undefined) {\n        return;\n      }\n\n      this.styleKeys.forEach(function (key) {\n        target[key] = source[key];\n      });\n      return target;\n    },\n    setHoverStyle: function (target, source) {\n      var keys = this.styleKeys;\n      var hoverKeys = this.hoverStyleKeys;\n      var i, ilen;\n\n      if (target === undefined || source === undefined) {\n        return;\n      }\n\n      for (i = 0, ilen = keys.length; i < ilen; ++i) {\n        target[keys[i]] = source[hoverKeys[i]];\n      }\n\n      return target;\n    },\n    saveStyle: function (element) {\n      var model = element._model;\n      var previousStyle = element.$previousStyle;\n\n      if (previousStyle) {\n        this.mergeStyle(previousStyle, model);\n      }\n    },\n    resolveStyle: function (controller, element, index, options) {\n      var me = this;\n      var chart = controller.chart;\n      var dataset = chart.data.datasets[controller.index];\n      var custom = element.custom || {};\n      var keys = me.styleKeys;\n      var hoverKeys = me.hoverStyleKeys;\n      var values = {};\n      var i, ilen, key, value; // Scriptable options\n\n      var context = {\n        chart: chart,\n        dataIndex: index,\n        dataset: dataset,\n        datasetIndex: element._datasetIndex\n      };\n\n      for (i = 0, ilen = keys.length; i < ilen; ++i) {\n        key = keys[i];\n        values[key] = value = resolve([custom[key], dataset[key], options[key]], context, index);\n        key = hoverKeys[i];\n        values[key] = resolve([custom[key], dataset[key], options[key], isColorOption(key) ? me.getHoverColor(value) : value], context, index);\n      }\n\n      return values;\n    },\n    resolveLineStyle: function (controller, element, options) {\n      var chart = controller.chart;\n      var dataset = chart.data.datasets[controller.index];\n      var custom = element.custom || {};\n      var keys = this.lineStyleKeys;\n      var values = {};\n      var i, ilen, key; // Scriptable options\n\n      var context = {\n        chart: chart,\n        dataset: dataset,\n        datasetIndex: element._datasetIndex\n      };\n\n      for (i = 0, ilen = keys.length; i < ilen; ++i) {\n        key = keys[i];\n        values[key] = resolve([custom[key], dataset[key], options[key]], context);\n      }\n\n      return values;\n    },\n    resolvePointStyle: function (controller, element, index, options) {\n      var me = this;\n      var chart = controller.chart;\n      var dataset = chart.data.datasets[controller.index];\n      var custom = element.custom || {};\n      var keys = me.styleKeys;\n      var hoverKeys = me.hoverStyleKeys;\n      var pointKeys = me.pointStyleKeys;\n      var pointHoverKeys = me.pointHoverStyleKeys;\n      var values = {};\n      var i, ilen, key, value; // Scriptable options\n\n      var context = {\n        chart: chart,\n        dataIndex: index,\n        dataset: dataset,\n        datasetIndex: element._datasetIndex\n      };\n\n      for (i = 0, ilen = keys.length; i < ilen; ++i) {\n        key = keys[i];\n        values[key] = value = resolve([custom[key], dataset[pointKeys[i]], dataset[key], options[key]], context, index);\n        key = hoverKeys[i];\n        values[key] = resolve([custom[key], dataset[pointHoverKeys[i]], options[key], isColorOption(key) ? me.getHoverColor(value) : value], context, index);\n      }\n\n      return values;\n    }\n  };\n  var helpers$2 = Chart.helpers;\n  /**\n   * Ported from Chart.js 2.7.3.\n   *\n   * Helper method to merge the opacity into a color\n   * For Chart.js 2.7.3 backward compatibility\n   */\n\n  function mergeOpacity(colorString, opacity) {\n    // opacity is not used in Chart.js 2.8 or later\n    if (opacity === undefined) {\n      return colorString;\n    }\n\n    var color = helpers$2.color(colorString);\n    return color.alpha(opacity * color.alpha()).rgbaString();\n  }\n\n  var Tooltip = Chart.Tooltip;\n  var StyleTooltip = Tooltip.extend({\n    initialize: function () {\n      var me = this;\n      Tooltip.prototype.initialize.apply(me, arguments);\n      styleHelpers.mergeStyle(me._model, me._options);\n    },\n    update: function () {\n      var me = this;\n      Tooltip.prototype.update.apply(me, arguments);\n      styleHelpers.mergeStyle(me._model, me._options);\n      return me;\n    },\n    drawBackground: function (pt, vm, ctx, tooltipSize, opacity) {\n      var me = this;\n      var args = arguments;\n      var chart = me._chart;\n      var options = helpers$2.extend({}, vm, {\n        bevelHighlightColor: mergeOpacity(vm.bevelHighlightColor, opacity),\n        bevelShadowColor: mergeOpacity(vm.bevelShadowColor, opacity),\n        innerGlowColor: mergeOpacity(vm.innerGlowColor, opacity),\n        outerGlowColor: mergeOpacity(vm.outerGlowColor, opacity)\n      });\n\n      var drawCallback = function () {\n        Tooltip.prototype.drawBackground.apply(me, args);\n      };\n\n      styleHelpers.drawShadow(chart, vm, drawCallback);\n\n      if (styleHelpers.opaque(vm.backgroundColor)) {\n        styleHelpers.drawBackground(vm, drawCallback);\n        styleHelpers.drawBevel(chart, options, drawCallback);\n      }\n\n      styleHelpers.drawInnerGlow(chart, options, drawCallback);\n      styleHelpers.drawOuterGlow(chart, options, drawCallback);\n      styleHelpers.drawBorder(vm, drawCallback);\n    }\n  });\n  var Rectangle = Chart.elements.Rectangle;\n  var StyleRectangle = Rectangle.extend({\n    draw: function () {\n      var me = this;\n      var args = arguments;\n      var chart = me._chart;\n      var vm = me._view;\n\n      var drawCallback = function () {\n        Rectangle.prototype.draw.apply(me, args);\n      };\n\n      var setPathCallback = function () {\n        me.setPath();\n      };\n\n      styleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n      if (styleHelpers.opaque(vm.backgroundColor)) {\n        styleHelpers.drawBackground(vm, drawCallback);\n        styleHelpers.drawBackgroundOverlay(chart, vm, setPathCallback);\n        styleHelpers.drawBevel(chart, vm, setPathCallback);\n      }\n\n      styleHelpers.drawInnerGlow(chart, vm, setPathCallback);\n      styleHelpers.drawOuterGlow(chart, vm, setPathCallback);\n      styleHelpers.drawBorder(vm, drawCallback);\n    },\n    setPath: function () {\n      var me = this;\n      var ctx = me._chart.ctx;\n      var vm = me._view;\n      var x, y, width, height;\n\n      if (vm.width !== undefined) {\n        x = vm.x - vm.width / 2;\n        width = vm.width;\n        y = Math.min(vm.y, vm.base);\n        height = Math.abs(vm.y - vm.base);\n      } else {\n        x = Math.min(vm.x, vm.base);\n        width = Math.abs(vm.x - vm.base);\n        y = vm.y - vm.height / 2;\n        height = vm.height;\n      }\n\n      ctx.rect(x, y, width, height);\n    }\n  });\n  var helpers$3 = Chart.helpers;\n  var extend = helpers$3.extend; // Ported from Chart.js 2.8.0\n\n  function swap(orig, v1, v2) {\n    return orig === v1 ? v2 : orig === v2 ? v1 : orig;\n  } // Ported from Chart.js 2.8.0\n\n\n  function parseBorderSkipped(vm) {\n    var edge = vm.borderSkipped;\n    var res = {};\n\n    if (!edge) {\n      return res;\n    }\n\n    if (vm.horizontal) {\n      if (vm.base > vm.x) {\n        edge = swap(edge, 'left', 'right');\n      }\n    } else if (vm.base < vm.y) {\n      edge = swap(edge, 'bottom', 'top');\n    }\n\n    res[edge] = true;\n    return res;\n  } // Ported from Chart.js 2.8.0. Modified for style bar.\n\n\n  function parseBorderWidth(vm) {\n    var value = vm.borderWidth;\n    var skip = parseBorderSkipped(vm);\n    var maxW, maxH, t, r, b, l;\n\n    if (vm.width !== undefined) {\n      maxW = vm.width / 2;\n      maxH = Math.abs(vm.y - vm.base) / 2;\n    } else {\n      maxW = Math.abs(vm.x - vm.base) / 2;\n      maxH = vm.height / 2;\n    }\n\n    if (value !== null && Object.prototype.toString.call(value) === '[object Object]') {\n      t = +value.top || 0;\n      r = +value.right || 0;\n      b = +value.bottom || 0;\n      l = +value.left || 0;\n    } else {\n      t = r = b = l = +value || 0;\n    }\n\n    return {\n      top: skip.top || t < 0 ? 0 : t > maxH ? maxH : t,\n      right: skip.right || r < 0 ? 0 : r > maxW ? maxW : r,\n      bottom: skip.bottom || b < 0 ? 0 : b > maxH ? maxH : b,\n      left: skip.left || l < 0 ? 0 : l > maxW ? maxW : l\n    };\n  }\n\n  var BarController = Chart.controllers.bar;\n  var StyleBarController = BarController.extend({\n    dataElementType: StyleRectangle,\n    updateElement: function (rectangle, index) {\n      var me = this;\n      var options = styleHelpers.resolveStyle(me, rectangle, index, me.chart.options.elements.rectangle);\n      var model = {};\n      Object.defineProperty(rectangle, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend(model, value, options);\n        }\n      });\n      BarController.prototype.updateElement.apply(me, arguments);\n      delete rectangle._model;\n      rectangle._model = extend(model, {\n        parsedBorderWidth: parseBorderWidth(model)\n      });\n      rectangle._styleOptions = options;\n    },\n    setHoverStyle: function (element) {\n      var me = this;\n      BarController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      BarController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var helpers$4 = Chart.helpers; // For Chart.js 2.7.3 backward compatibility\n\n  var isPointInArea = helpers$4.canvas._isPointInArea || function (point, area) {\n    var epsilon = 1e-6;\n    return point.x > area.left - epsilon && point.x < area.right + epsilon && point.y > area.top - epsilon && point.y < area.bottom + epsilon;\n  };\n\n  var Point = Chart.elements.Point;\n  var StylePoint = Point.extend({\n    draw: function (chartArea) {\n      var me = this;\n      var args = arguments;\n      var chart = me._chart;\n      var vm = me._view;\n\n      var drawCallback = function () {\n        Point.prototype.draw.apply(me, args);\n      };\n\n      if (vm.skip || chartArea !== undefined && !isPointInArea(vm, chartArea)) {\n        return;\n      }\n\n      styleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n      if (styleHelpers.opaque(vm.backgroundColor)) {\n        styleHelpers.drawBackground(vm, drawCallback);\n        styleHelpers.drawBackgroundOverlay(chart, vm, drawCallback);\n        styleHelpers.drawBevel(chart, vm, drawCallback);\n      }\n\n      styleHelpers.drawInnerGlow(chart, vm, drawCallback);\n      styleHelpers.drawOuterGlow(chart, vm, drawCallback);\n      styleHelpers.drawBorder(vm, drawCallback);\n    }\n  });\n  var helpers$5 = Chart.helpers;\n  var extend$1 = helpers$5.extend;\n  var BubbleController = Chart.controllers.bubble;\n  var StyleBubbleController = BubbleController.extend({\n    dataElementType: StylePoint,\n    updateElement: function (point, index) {\n      var me = this;\n      var options = styleHelpers.resolveStyle(me, point, index, me.chart.options.elements.point);\n      var model = {};\n      Object.defineProperty(point, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend$1(model, value, options);\n        }\n      });\n      BubbleController.prototype.updateElement.apply(me, arguments);\n      delete point._model;\n      point._model = model;\n      point._styleOptions = options;\n    },\n\n    /**\n     * @protected\n     */\n    setHoverStyle: function (element) {\n      var me = this;\n      BubbleController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n\n    /**\n     * @protected\n     */\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      BubbleController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var helpers$6 = Chart.helpers;\n  var Arc = Chart.elements.Arc;\n  var StyleArc = Arc.extend({\n    draw: function () {\n      var me = this;\n      var args = arguments;\n      var chart = me._chart;\n      var vm = me._view;\n\n      var drawCallback = function () {\n        Arc.prototype.draw.apply(me, args);\n      };\n\n      styleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n      if (styleHelpers.opaque(vm.backgroundColor)) {\n        styleHelpers.drawBackground(vm, drawCallback);\n        styleHelpers.drawBackgroundOverlay(chart, vm, drawCallback);\n        styleHelpers.drawBevel(chart, vm.borderAlign === 'inner' ? helpers$6.extend({}, vm, {\n          borderWidth: vm.borderWidth * 2\n        }) : vm, drawCallback);\n      }\n\n      styleHelpers.drawInnerGlow(chart, vm, drawCallback);\n      styleHelpers.drawOuterGlow(chart, vm, drawCallback);\n      styleHelpers.drawBorder(vm, drawCallback);\n    }\n  });\n  var defaults = Chart.defaults;\n  var helpers$7 = Chart.helpers;\n  var extend$2 = helpers$7.extend;\n  var resolve$1 = optionsHelpers$1.resolve; // Ported from Chart.js 2.8.0. Modified for style doughnut.\n\n  defaults.doughnut.legend.labels.generateLabels = defaults.pie.legend.labels.generateLabels = function (chart) {\n    var data = chart.data;\n\n    if (data.labels.length && data.datasets.length) {\n      return data.labels.map(function (label, i) {\n        var meta = chart.getDatasetMeta(0);\n        var ds = data.datasets[0];\n        var arc = meta.data[i] || {};\n        var custom = arc.custom || {};\n        var arcOpts = chart.options.elements.arc;\n        var fill = resolve$1([custom.backgroundColor, ds.backgroundColor, arcOpts.backgroundColor], undefined, i);\n        var stroke = resolve$1([custom.borderColor, ds.borderColor, arcOpts.borderColor], undefined, i);\n        var bw = resolve$1([custom.borderWidth, ds.borderWidth, arcOpts.borderWidth], undefined, i);\n        return extend$2({\n          text: label,\n          fillStyle: fill,\n          strokeStyle: stroke,\n          lineWidth: bw,\n          hidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n          // Extra data used for toggling the correct item\n          index: i\n        }, styleHelpers.resolveStyle(meta.controller, arc, i, arcOpts));\n      });\n    }\n\n    return [];\n  };\n\n  var DoughnutController = Chart.controllers.doughnut;\n  var StyleDoughnutController = DoughnutController.extend({\n    dataElementType: StyleArc,\n    updateElement: function (arc, index) {\n      var me = this;\n      var options = styleHelpers.resolveStyle(me, arc, index, me.chart.options.elements.arc);\n      var model = {};\n      Object.defineProperty(arc, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend$2(model, value, options);\n        }\n      });\n      DoughnutController.prototype.updateElement.apply(me, arguments);\n      delete arc._model;\n      arc._model = model;\n      arc._styleOptions = options;\n    },\n    setHoverStyle: function (element) {\n      var me = this;\n      DoughnutController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      DoughnutController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var StyleHorizontalBarController = StyleBarController.extend({\n    /**\n     * @private\n     */\n    _getValueScaleId: function () {\n      return this.getMeta().xAxisID;\n    },\n\n    /**\n     * @private\n     */\n    _getIndexScaleId: function () {\n      return this.getMeta().yAxisID;\n    },\n\n    /**\n     * For Chart.js 2.7.2 backward compatibility\n     * @private\n     */\n    getValueScaleId: function () {\n      return this.getMeta().xAxisID;\n    },\n\n    /**\n     * For Chart.js 2.7.2 backward compatibility\n     * @private\n     */\n    getIndexScaleId: function () {\n      return this.getMeta().yAxisID;\n    }\n  });\n  var Line = Chart.elements.Line;\n  var StyleLine = Line.extend({\n    draw: function () {\n      var me = this;\n      var args = arguments;\n      var chart = me._chart;\n      var vm = me._view;\n\n      var drawCallback = function () {\n        Line.prototype.draw.apply(me, args);\n      };\n\n      styleHelpers.drawShadow(chart, vm, drawCallback); // For outer glow\n\n      styleHelpers.drawShadow(chart, {\n        shadowOffsetX: 0,\n        shadowOffsetY: 0,\n        shadowBlur: vm.outerGlowWidth,\n        shadowColor: vm.outerGlowColor\n      }, drawCallback);\n      styleHelpers.drawBorder(vm, drawCallback);\n    }\n  });\n  var helpers$8 = Chart.helpers;\n  var extend$3 = helpers$8.extend;\n  var LineController = Chart.controllers.line;\n  var StyleLineController = LineController.extend({\n    datasetElementType: StyleLine,\n    dataElementType: StylePoint,\n    update: function () {\n      var me = this;\n      var line = me.getMeta().dataset;\n      var options = styleHelpers.resolveLineStyle(me, line, me.chart.options.elements.line);\n      var model = {};\n      Object.defineProperty(line, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend$3(model, value, options);\n        }\n      });\n      LineController.prototype.update.apply(me, arguments);\n      delete line._model;\n      line._model = model;\n      line._styleOptions = options;\n    },\n    updateElement: function (point, index) {\n      var me = this;\n      var options = styleHelpers.resolvePointStyle(me, point, index, me.chart.options.elements.point);\n      LineController.prototype.updateElement.apply(me, arguments);\n      extend$3(point._model, options);\n      point._styleOptions = options;\n    },\n    setHoverStyle: function (element) {\n      // Point\n      var me = this;\n      LineController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      LineController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var helpers$9 = Chart.helpers;\n  var extend$4 = helpers$9.extend;\n  var resolve$2 = optionsHelpers$1.resolve; // Ported from Chart.js 2.8.0. Modified for style polarArea.\n\n  Chart.defaults.polarArea.legend.labels.generateLabels = function (chart) {\n    var data = chart.data;\n\n    if (data.labels.length && data.datasets.length) {\n      return data.labels.map(function (label, i) {\n        var meta = chart.getDatasetMeta(0);\n        var ds = data.datasets[0];\n        var arc = meta.data[i] || {};\n        var custom = arc.custom || {};\n        var arcOpts = chart.options.elements.arc;\n        var fill = resolve$2([custom.backgroundColor, ds.backgroundColor, arcOpts.backgroundColor], undefined, i);\n        var stroke = resolve$2([custom.borderColor, ds.borderColor, arcOpts.borderColor], undefined, i);\n        var bw = resolve$2([custom.borderWidth, ds.borderWidth, arcOpts.borderWidth], undefined, i);\n        return extend$4({\n          text: label,\n          fillStyle: fill,\n          strokeStyle: stroke,\n          lineWidth: bw,\n          hidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n          // Extra data used for toggling the correct item\n          index: i\n        }, styleHelpers.resolveStyle(meta.controller, arc, i, arcOpts));\n      });\n    }\n\n    return [];\n  };\n\n  var PolarAreaController = Chart.controllers.polarArea;\n  var StylePolarAreaController = PolarAreaController.extend({\n    dataElementType: StyleArc,\n    updateElement: function (arc, index) {\n      var me = this;\n      var options = styleHelpers.resolveStyle(me, arc, index, me.chart.options.elements.arc);\n      var model = {};\n      Object.defineProperty(arc, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend$4(model, value, options);\n        }\n      });\n      PolarAreaController.prototype.updateElement.apply(me, arguments);\n      delete arc._model;\n      arc._model = model;\n      arc._styleOptions = options;\n    },\n    setHoverStyle: function (element) {\n      var me = this;\n      PolarAreaController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      PolarAreaController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var helpers$a = Chart.helpers;\n  var extend$5 = helpers$a.extend;\n  var RadarController = Chart.controllers.radar;\n  var StyleRadarController = RadarController.extend({\n    datasetElementType: StyleLine,\n    dataElementType: StylePoint,\n    update: function () {\n      var me = this;\n      var line = me.getMeta().dataset;\n      var options = styleHelpers.resolveLineStyle(me, line, me.chart.options.elements.line);\n      var model = {};\n      Object.defineProperty(line, '_model', {\n        configurable: true,\n        get: function () {\n          return model;\n        },\n        set: function (value) {\n          extend$5(model, value, options);\n        }\n      });\n      RadarController.prototype.update.apply(me, arguments);\n      delete line._model;\n      line._model = model;\n      line._styleOptions = options;\n    },\n    updateElement: function (point, index) {\n      var me = this;\n      var options = styleHelpers.resolvePointStyle(me, point, index, me.chart.options.elements.point);\n      RadarController.prototype.updateElement.apply(me, arguments);\n      extend$5(point._model, options);\n      point._styleOptions = options;\n    },\n    setHoverStyle: function (element) {\n      // Point\n      var me = this;\n      RadarController.prototype.setHoverStyle.apply(me, arguments);\n      styleHelpers.saveStyle(element);\n      styleHelpers.setHoverStyle(element._model, element._styleOptions);\n    },\n    removeHoverStyle: function (element) {\n      var me = this; // For Chart.js 2.7.2 backward compatibility\n\n      if (!element.$previousStyle) {\n        styleHelpers.mergeStyle(element._model, element._styleOptions);\n      }\n\n      RadarController.prototype.removeHoverStyle.apply(me, arguments);\n    }\n  });\n  var defaults$1 = Chart.defaults;\n  var helpers$b = Chart.helpers; // For Chart.js 2.7.1 backward compatibility\n\n  var layouts = Chart.layouts || Chart.layoutService; // For Chart.js 2.6.0 backward compatibility\n\n  var valueOrDefault = helpers$b.valueOrDefault || helpers$b.getValueOrDefault; // For Chart.js 2.6.0 backward compatibility\n\n  var valueAtIndexOrDefault = helpers$b.valueAtIndexOrDefault || helpers$b.getValueAtIndexOrDefault; // For Chart.js 2.6.0 backward compatibility\n\n  var mergeIf = helpers$b.mergeIf || function (target, source) {\n    return helpers$b.configMerge.call(this, source, target);\n  };\n\n  var extend$6 = helpers$b.extend; // Ported from Chart.js 2.8.0. Modified for style legend.\n  // Generates labels shown in the legend\n\n  defaults$1.global.legend.labels.generateLabels = function (chart) {\n    var data = chart.data;\n    var options = chart.options.legend || {};\n    var usePointStyle = options.labels && options.labels.usePointStyle;\n    return helpers$b.isArray(data.datasets) ? data.datasets.map(function (dataset, i) {\n      var meta = chart.getDatasetMeta(i);\n      var controller = meta.controller;\n      var elementOpts = chart.options.elements;\n      var element, styleOptions;\n\n      if (usePointStyle) {\n        element = meta.data[0] || {};\n        styleOptions = styleHelpers.resolvePointStyle(controller, element, i, elementOpts.point);\n      } else if (meta.dataset) {\n        element = meta.dataset;\n        styleOptions = styleHelpers.resolveLineStyle(controller, element, elementOpts.line);\n      } else {\n        element = meta.data[0] || {};\n        styleOptions = styleHelpers.resolveStyle(controller, element, i, meta.bar ? elementOpts.rectangle : elementOpts.point);\n      }\n\n      return extend$6({\n        text: dataset.label,\n        fillStyle: valueAtIndexOrDefault(dataset.backgroundColor, 0),\n        hidden: !chart.isDatasetVisible(i),\n        lineCap: dataset.borderCapStyle,\n        lineDash: dataset.borderDash,\n        lineDashOffset: dataset.borderDashOffset,\n        lineJoin: dataset.borderJoinStyle,\n        lineWidth: dataset.borderWidth,\n        strokeStyle: dataset.borderColor,\n        pointStyle: dataset.pointStyle,\n        // Below is extra data used for toggling the datasets\n        datasetIndex: i\n      }, styleOptions);\n    }, this) : [];\n  };\n\n  function drawLegendBox(chart, options, drawCallback) {\n    var ctx = chart.ctx;\n    styleHelpers.drawShadow(chart, options, drawCallback, true);\n\n    if (styleHelpers.opaque(ctx.fillStyle)) {\n      ctx.save();\n      ctx.strokeStyle = 'rgba(0, 0, 0, 0)';\n      drawCallback();\n      styleHelpers.drawBackgroundOverlay(chart, options, drawCallback);\n      styleHelpers.drawBevel(chart, options, drawCallback);\n      ctx.restore();\n    }\n\n    styleHelpers.drawInnerGlow(chart, options, drawCallback);\n    styleHelpers.drawOuterGlow(chart, options, drawCallback);\n    ctx.fillStyle = 'rgba(0, 0, 0, 0)';\n    drawCallback();\n    ctx.restore();\n  }\n\n  var StyleLegend = Chart.Legend.extend({\n    draw: function () {\n      var me = this;\n      var chart = me.chart;\n      var globalDefaults = defaults$1.global;\n      var each = helpers$b.each;\n      var drawPoint = helpers$b.canvas.drawPoint;\n      var ctx = me.ctx;\n      var options;\n\n      helpers$b.each = function (loopable, fn) {\n        each(loopable, function (legendItem) {\n          var keys = Object.keys(legendItem);\n          var i, ilen;\n          options = {};\n\n          for (i = 0, ilen = keys.length; i < ilen; i++) {\n            options[keys[i]] = legendItem[keys[i]];\n          }\n\n          options.borderColor = valueOrDefault(legendItem.strokeStyle, globalDefaults.defaultColor);\n          options.borderWidth = valueOrDefault(legendItem.lineWidth, globalDefaults.elements.line.borderWidth);\n          fn.apply(null, arguments);\n        });\n      };\n\n      helpers$b.canvas.drawPoint = function () {\n        var args = arguments;\n\n        var drawCallback = function () {\n          drawPoint.apply(null, args);\n        };\n\n        drawLegendBox(chart, options, drawCallback);\n      };\n\n      ctx.strokeRect = function () {// noop\n      };\n\n      ctx.fillRect = function (x, y, width, height) {\n        var drawCallback = function () {\n          ctx.beginPath();\n          ctx.rect(x, y, width, height);\n          ctx.fill();\n\n          if (options.borderWidth !== 0) {\n            ctx.stroke();\n          }\n        };\n\n        drawLegendBox(chart, options, drawCallback);\n      };\n\n      Chart.Legend.prototype.draw.apply(me, arguments);\n      helpers$b.each = each;\n      helpers$b.canvas.drawPoint = drawPoint;\n      delete ctx.fillRect;\n      delete ctx.strokeRect;\n    }\n  }); // Ported from Chart.js 2.8.0. Modified for style legend.\n\n  function createNewLegendAndAttach(chart, legendOpts) {\n    var legend = new StyleLegend({\n      ctx: chart.ctx,\n      options: legendOpts,\n      chart: chart\n    });\n    layouts.configure(chart, legend, legendOpts);\n    layouts.addBox(chart, legend);\n    chart.legend = legend;\n  }\n\n  var StyleLegendPlugin = {\n    id: 'legend',\n    _element: StyleLegend,\n    // Ported from Chart.js 2.8.0.\n    beforeInit: function (chart) {\n      var legendOpts = chart.options.legend;\n\n      if (legendOpts) {\n        createNewLegendAndAttach(chart, legendOpts);\n      }\n    },\n    // Ported from Chart.js 2.8.0.\n    beforeUpdate: function (chart) {\n      var legendOpts = chart.options.legend;\n      var legend = chart.legend;\n\n      if (legendOpts) {\n        mergeIf(legendOpts, defaults$1.global.legend);\n\n        if (legend) {\n          layouts.configure(chart, legend, legendOpts);\n          legend.options = legendOpts;\n        } else {\n          createNewLegendAndAttach(chart, legendOpts);\n        }\n      } else if (legend) {\n        layouts.removeBox(chart, legend);\n        delete chart.legend;\n      }\n    },\n    // Ported from Chart.js 2.8.0.\n    afterEvent: function (chart, e) {\n      var legend = chart.legend;\n\n      if (legend) {\n        legend.handleEvent(e);\n      }\n    }\n  };\n  var helpers$c = Chart.helpers; // For Chart.js 2.7.1 backward compatibility\n\n  var layouts$1 = Chart.layouts || Chart.layoutService;\n  var plugins = Chart.plugins;\n  var styleControllers = {\n    bar: StyleBarController,\n    bubble: StyleBubbleController,\n    doughnut: StyleDoughnutController,\n    horizontalBar: StyleHorizontalBarController,\n    line: StyleLineController,\n    polarArea: StylePolarAreaController,\n    pie: StyleDoughnutController,\n    radar: StyleRadarController,\n    scatter: StyleLineController\n  }; // Ported from Chart.js 2.8.0. Modified for style controllers.\n\n  function buildOrUpdateControllers() {\n    var me = this;\n    var newControllers = [];\n    helpers$c.each(me.data.datasets, function (dataset, datasetIndex) {\n      var meta = me.getDatasetMeta(datasetIndex);\n      var type = dataset.type || me.config.type;\n\n      if (meta.type && meta.type !== type) {\n        me.destroyDatasetMeta(datasetIndex);\n        meta = me.getDatasetMeta(datasetIndex);\n      }\n\n      meta.type = type;\n\n      if (meta.controller) {\n        meta.controller.updateIndex(datasetIndex);\n        meta.controller.linkScales();\n      } else {\n        var ControllerClass = styleControllers[meta.type];\n\n        if (ControllerClass === undefined) {\n          throw new Error('\"' + meta.type + '\" is not a chart type.');\n        }\n\n        meta.controller = new ControllerClass(me, datasetIndex);\n        newControllers.push(meta.controller);\n      }\n    }, me);\n    return newControllers;\n  } // Ported from Chart.js 2.8.0. Modified for style tooltip.\n\n\n  function initToolTip() {\n    var me = this;\n    me.tooltip = new StyleTooltip({\n      _chart: me,\n      _chartInstance: me,\n      // deprecated, backward compatibility\n      _data: me.data,\n      _options: me.options.tooltips\n    }, me);\n  }\n\n  var descriptors = plugins.descriptors;\n\n  plugins.descriptors = function (chart) {\n    var style = chart._style; // Replace legend plugin with style legend plugin\n\n    if (style) {\n      // chart._plugins for Chart.js 2.7.1 backward compatibility\n      var cache = chart.$plugins || chart._plugins || (chart.$plugins = chart._plugins = {});\n\n      if (cache.id === this._cacheId) {\n        return cache.descriptors;\n      }\n\n      var p = this._plugins;\n      var result;\n      this._plugins = p.map(function (plugin) {\n        if (plugin.id === 'legend') {\n          return StyleLegendPlugin;\n        }\n\n        return plugin;\n      });\n    }\n\n    result = descriptors.apply(this, arguments);\n\n    if (style) {\n      this._plugins = p;\n    }\n\n    return result;\n  };\n\n  var StylePlugin = {\n    id: 'style',\n    beforeInit: function (chart) {\n      chart._style = {};\n      chart.buildOrUpdateControllers = buildOrUpdateControllers;\n      chart.initToolTip = initToolTip; // Remove the existing legend if exists\n\n      if (chart.legend) {\n        layouts$1.removeBox(chart, chart.legend);\n        delete chart.legend;\n      } // Invalidate plugin cache and create new one\n\n\n      delete chart.$plugins; // For Chart.js 2.7.1 backward compatibility\n\n      delete chart._plugins;\n      plugins.descriptors(chart);\n    }\n  };\n  Chart.plugins.register(StylePlugin);\n  return StylePlugin;\n});","map":{"version":3,"sources":["/home/codabae/Documents/Projects/DDProject/Dproject_Diagnostics/node_modules/chartjs-plugin-style/dist/chartjs-plugin-style.js"],"names":["global","factory","exports","module","require","define","amd","self","ChartStyle","Chart","hasOwnProperty","helpers","optionsHelpers","options","optionsHelpers$1","extend","resolve","inputs","context","index","i","ilen","value","length","undefined","isArray","helpers$1","OFFSET","isColorOption","key","indexOf","styleHelpers","styleKeys","lineStyleKeys","pointStyleKeys","hoverStyleKeys","pointHoverStyleKeys","drawBackground","view","drawCallback","borderWidth","drawBorder","backgroundColor","drawShadow","chart","backmost","ctx","pixelRatio","currentDevicePixelRatio","save","shadowOffsetX","shadowOffsetY","shadowBlur","shadowColor","globalCompositeOperation","translate","restore","setPath","beginPath","clip","drawBevel","shadowWidthFactor","width","bevelWidth","parsedBorderWidth","shadowOffset","offset","opaque","borderColor","top","left","bottom","right","rect","height","fillStyle","bevelShadowColor","navigator","userAgent","match","fill","bevelHighlightColor","drawGlow","isOuter","outerGlowWidth","innerGlowWidth","lineWidth","strokeStyle","outerGlowColor","innerGlowColor","stroke","drawInnerGlow","drawOuterGlow","drawBackgroundOverlay","color","backgroundOverlayColor","backgroundOverlayMode","alpha","getHoverColor","mergeStyle","target","source","forEach","setHoverStyle","keys","hoverKeys","saveStyle","element","model","_model","previousStyle","$previousStyle","resolveStyle","controller","me","dataset","data","datasets","custom","values","dataIndex","datasetIndex","_datasetIndex","resolveLineStyle","resolvePointStyle","pointKeys","pointHoverKeys","helpers$2","mergeOpacity","colorString","opacity","rgbaString","Tooltip","StyleTooltip","initialize","prototype","apply","arguments","_options","update","pt","vm","tooltipSize","args","_chart","Rectangle","elements","StyleRectangle","draw","_view","setPathCallback","x","y","Math","min","base","abs","helpers$3","swap","orig","v1","v2","parseBorderSkipped","edge","borderSkipped","res","horizontal","parseBorderWidth","skip","maxW","maxH","t","r","b","l","Object","toString","call","BarController","controllers","bar","StyleBarController","dataElementType","updateElement","rectangle","defineProperty","configurable","get","set","_styleOptions","removeHoverStyle","helpers$4","isPointInArea","canvas","_isPointInArea","point","area","epsilon","Point","StylePoint","chartArea","helpers$5","extend$1","BubbleController","bubble","StyleBubbleController","helpers$6","Arc","StyleArc","borderAlign","defaults","helpers$7","extend$2","resolve$1","doughnut","legend","labels","generateLabels","pie","map","label","meta","getDatasetMeta","ds","arc","arcOpts","bw","text","hidden","isNaN","DoughnutController","StyleDoughnutController","StyleHorizontalBarController","_getValueScaleId","getMeta","xAxisID","_getIndexScaleId","yAxisID","getValueScaleId","getIndexScaleId","Line","StyleLine","helpers$8","extend$3","LineController","line","StyleLineController","datasetElementType","helpers$9","extend$4","resolve$2","polarArea","PolarAreaController","StylePolarAreaController","helpers$a","extend$5","RadarController","radar","StyleRadarController","defaults$1","helpers$b","layouts","layoutService","valueOrDefault","getValueOrDefault","valueAtIndexOrDefault","getValueAtIndexOrDefault","mergeIf","configMerge","extend$6","usePointStyle","elementOpts","styleOptions","isDatasetVisible","lineCap","borderCapStyle","lineDash","borderDash","lineDashOffset","borderDashOffset","lineJoin","borderJoinStyle","pointStyle","drawLegendBox","StyleLegend","Legend","globalDefaults","each","drawPoint","loopable","fn","legendItem","defaultColor","strokeRect","fillRect","createNewLegendAndAttach","legendOpts","configure","addBox","StyleLegendPlugin","id","_element","beforeInit","beforeUpdate","removeBox","afterEvent","e","handleEvent","helpers$c","layouts$1","plugins","styleControllers","horizontalBar","scatter","buildOrUpdateControllers","newControllers","type","config","destroyDatasetMeta","updateIndex","linkScales","ControllerClass","Error","push","initToolTip","tooltip","_chartInstance","_data","tooltips","descriptors","style","_style","cache","$plugins","_plugins","_cacheId","p","result","plugin","StylePlugin","register"],"mappings":"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","sourcesContent":["/*!\n * chartjs-plugin-style v0.5.0\n * https://nagix.github.io/chartjs-plugin-style\n * (c) 2019 Akihiko Kusanagi\n * Released under the MIT license\n */\n(function (global, factory) {\ntypeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory(require('chart.js')) :\ntypeof define === 'function' && define.amd ? define(['chart.js'], factory) :\n(global = global || self, global.ChartStyle = factory(global.Chart));\n}(this, function (Chart) { 'use strict';\n\nChart = Chart && Chart.hasOwnProperty('default') ? Chart['default'] : Chart;\n\nvar helpers = Chart.helpers;\nvar optionsHelpers = helpers.options || {};\n\nvar optionsHelpers$1 = helpers.extend(optionsHelpers, {\n\n\t// For Chart.js 2.6.0 backward compatibility\n\tresolve: optionsHelpers.resolve || function(inputs, context, index) {\n\t\tvar i, ilen, value;\n\n\t\tfor (i = 0, ilen = inputs.length; i < ilen; ++i) {\n\t\t\tvalue = inputs[i];\n\t\t\tif (value === undefined) {\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t\tif (context !== undefined && typeof value === 'function') {\n\t\t\t\tvalue = value(context);\n\t\t\t}\n\t\t\tif (index !== undefined && helpers.isArray(value)) {\n\t\t\t\tvalue = value[index];\n\t\t\t}\n\t\t\tif (value !== undefined) {\n\t\t\t\treturn value;\n\t\t\t}\n\t\t}\n\t}\n});\n\nvar helpers$1 = Chart.helpers;\n\nvar resolve = optionsHelpers$1.resolve;\n\nvar OFFSET = 1000000;\n\nfunction isColorOption(key) {\n\treturn key.indexOf('Color') !== -1;\n}\n\nvar styleHelpers = {\n\n\tstyleKeys: [\n\t\t'shadowOffsetX',\n\t\t'shadowOffsetY',\n\t\t'shadowBlur',\n\t\t'shadowColor',\n\t\t'bevelWidth',\n\t\t'bevelHighlightColor',\n\t\t'bevelShadowColor',\n\t\t'innerGlowWidth',\n\t\t'innerGlowColor',\n\t\t'outerGlowWidth',\n\t\t'outerGlowColor',\n\t\t'backgroundOverlayColor',\n\t\t'backgroundOverlayMode'\n\t],\n\n\tlineStyleKeys: [\n\t\t'shadowOffsetX',\n\t\t'shadowOffsetY',\n\t\t'shadowBlur',\n\t\t'shadowColor',\n\t\t'outerGlowWidth',\n\t\t'outerGlowColor'\n\t],\n\n\tpointStyleKeys: [\n\t\t'pointShadowOffsetX',\n\t\t'pointShadowOffsetY',\n\t\t'pointShadowBlur',\n\t\t'pointShadowColor',\n\t\t'pointBevelWidth',\n\t\t'pointBevelHighlightColor',\n\t\t'pointBevelShadowColor',\n\t\t'pointInnerGlowWidth',\n\t\t'pointInnerGlowColor',\n\t\t'pointOuterGlowWidth',\n\t\t'pointOuterGlowColor',\n\t\t'pointBackgroundOverlayColor',\n\t\t'pointBackgroundOverlayMode'\n\t],\n\n\thoverStyleKeys: [\n\t\t'hoverShadowOffsetX',\n\t\t'hoverShadowOffsetY',\n\t\t'hoverShadowBlur',\n\t\t'hoverShadowColor',\n\t\t'hoverBevelWidth',\n\t\t'hoverBevelHighlightColor',\n\t\t'hoverBevelShadowColor',\n\t\t'hoverInnerGlowWidth',\n\t\t'hoverInnerGlowColor',\n\t\t'hoverOuterGlowWidth',\n\t\t'hoverOuterGlowColor',\n\t\t'hoverBackgroundOverlayColor',\n\t\t'hoverBackgroundOverlayMode'\n\t],\n\n\tpointHoverStyleKeys: [\n\t\t'pointHoverShadowOffsetX',\n\t\t'pointHoverShadowOffsetY',\n\t\t'pointHoverShadowBlur',\n\t\t'pointHoverShadowColor',\n\t\t'pointHoverBevelWidth',\n\t\t'pointHoverBevelHighlightColor',\n\t\t'pointHoverBevelShadowColor',\n\t\t'pointHoverInnerGlowWidth',\n\t\t'pointHoverInnerGlowColor',\n\t\t'pointHoverOuterGlowWidth',\n\t\t'pointHoverOuterGlowColor',\n\t\t'pointHoverBackgroundOverlayColor',\n\t\t'pointHoverBackgroundOverlayMode'\n\t],\n\n\tdrawBackground: function(view, drawCallback) {\n\t\tvar borderWidth = view.borderWidth;\n\n\t\tview.borderWidth = 0;\n\t\tdrawCallback();\n\t\tview.borderWidth = borderWidth;\n\t},\n\n\tdrawBorder: function(view, drawCallback) {\n\t\tvar backgroundColor = view.backgroundColor;\n\n\t\tif (view.borderWidth) {\n\t\t\tview.backgroundColor = 'rgba(0, 0, 0, 0)';\n\t\t\tdrawCallback();\n\t\t\tview.backgroundColor = backgroundColor;\n\t\t}\n\t},\n\n\tdrawShadow: function(chart, options, drawCallback, backmost) {\n\t\tvar ctx = chart.ctx;\n\t\tvar pixelRatio = chart.currentDevicePixelRatio;\n\n\t\tctx.save();\n\n\t\tctx.shadowOffsetX = (options.shadowOffsetX + OFFSET) * pixelRatio;\n\t\tctx.shadowOffsetY = options.shadowOffsetY * pixelRatio;\n\t\tctx.shadowBlur = options.shadowBlur * pixelRatio;\n\t\tctx.shadowColor = options.shadowColor;\n\t\tif (backmost) {\n\t\t\tctx.globalCompositeOperation = 'destination-over';\n\t\t}\n\t\tctx.translate(-OFFSET, 0);\n\n\t\tdrawCallback();\n\n\t\tctx.restore();\n\t},\n\n\tsetPath: function(ctx, drawCallback) {\n\t\tctx.save();\n\t\tctx.beginPath();\n\t\tctx.clip();\n\t\tdrawCallback();\n\t\tctx.restore();\n\t},\n\n\tdrawBevel: function(chart, options, drawCallback) {\n\t\tvar ctx = chart.ctx;\n\t\tvar pixelRatio = chart.currentDevicePixelRatio;\n\t\tvar shadowWidthFactor = pixelRatio * 5 / 6;\n\t\tvar width = options.bevelWidth * shadowWidthFactor;\n\t\tvar borderWidth = options.borderWidth;\n\t\tvar parsedBorderWidth = options.parsedBorderWidth;\n\t\tvar shadowOffset, offset;\n\n\t\tif (!width) {\n\t\t\treturn;\n\t\t}\n\n\t\tif (!this.opaque(options.borderColor)) {\n\t\t\tshadowOffset = {top: width, left: width, bottom: width, right: width};\n\t\t} else if (parsedBorderWidth) {\n\t\t\tshadowOffset = {\n\t\t\t\ttop: width + parsedBorderWidth.top * pixelRatio,\n\t\t\t\tleft: width + parsedBorderWidth.left * pixelRatio,\n\t\t\t\tbottom: width + parsedBorderWidth.bottom * pixelRatio,\n\t\t\t\tright: width + parsedBorderWidth.right * pixelRatio\n\t\t\t};\n\t\t} else {\n\t\t\toffset = width + (borderWidth > 0 ? borderWidth : 0) * pixelRatio / 2;\n\t\t\tshadowOffset = {top: offset, left: offset, bottom: offset, right: offset};\n\t\t}\n\n\t\tctx.save();\n\n\t\tthis.setPath(ctx, drawCallback);\n\t\tctx.clip();\n\n\t\t// Make stencil\n\t\tctx.translate(-OFFSET, 0);\n\t\tthis.setPath(ctx, drawCallback);\n\t\tctx.rect(0, 0, chart.width, chart.height);\n\n\t\t// Draw bevel shadow\n\t\tctx.fillStyle = 'black';\n\t\tctx.shadowOffsetX = OFFSET * pixelRatio - shadowOffset.right;\n\t\tctx.shadowOffsetY = -shadowOffset.bottom;\n\t\tctx.shadowBlur = width;\n\t\tctx.shadowColor = options.bevelShadowColor;\n\t\t// Workaround for the issue on Windows version of FireFox\n\t\t// https://bugzilla.mozilla.org/show_bug.cgi?id=1333090\n\t\t// If the destination has transparency, the result will be different\n\t\tif (!(navigator && navigator.userAgent.match('Windows.+Firefox'))) {\n\t\t\tctx.globalCompositeOperation = 'source-atop';\n\t\t}\n\t\tctx.fill('evenodd');\n\n\t\t// Draw Bevel highlight\n\t\tctx.shadowOffsetX = OFFSET * pixelRatio + shadowOffset.left;\n\t\tctx.shadowOffsetY = shadowOffset.top;\n\t\tctx.shadowColor = options.bevelHighlightColor;\n\t\tctx.fill('evenodd');\n\n\t\tctx.restore();\n\t},\n\n\tdrawGlow: function(chart, options, drawCallback, isOuter) {\n\t\tvar ctx = chart.ctx;\n\t\tvar width = isOuter ? options.outerGlowWidth : options.innerGlowWidth;\n\t\tvar borderWidth = options.borderWidth;\n\t\tvar pixelRatio = chart.currentDevicePixelRatio;\n\n\t\tif (!width) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.save();\n\n\t\t// Clip inner or outer area\n\t\tthis.setPath(ctx, drawCallback);\n\t\tif (isOuter) {\n\t\t\tctx.rect(0, 0, chart.width, chart.height);\n\t\t}\n\t\tctx.clip('evenodd');\n\n\t\t// Set path\n\t\tctx.translate(-OFFSET, 0);\n\t\tthis.setPath(ctx, drawCallback);\n\t\tif (!isOuter) {\n\t\t\tctx.rect(0, 0, chart.width, chart.height);\n\t\t}\n\n\t\t// Draw glow\n\t\tctx.lineWidth = borderWidth;\n\t\tctx.strokeStyle = 'black';\n\t\tctx.fillStyle = 'black';\n\t\tctx.shadowOffsetX = OFFSET * pixelRatio;\n\t\tctx.shadowBlur = width * pixelRatio;\n\t\tctx.shadowColor = isOuter ? options.outerGlowColor : options.innerGlowColor;\n\t\tctx.fill('evenodd');\n\t\tif (borderWidth) {\n\t\t\tctx.stroke();\n\t\t}\n\n\t\tctx.restore();\n\t},\n\n\tdrawInnerGlow: function(chart, options, drawCallback) {\n\t\tthis.drawGlow(chart, options, drawCallback);\n\t},\n\n\tdrawOuterGlow: function(chart, options, drawCallback) {\n\t\tthis.drawGlow(chart, options, drawCallback, true);\n\t},\n\n\tdrawBackgroundOverlay: function(chart, options, drawCallback) {\n\t\tvar ctx = chart.ctx;\n\t\tvar color = options.backgroundOverlayColor;\n\n\t\tif (!color) {\n\t\t\treturn;\n\t\t}\n\n\t\tctx.save();\n\t\tthis.setPath(ctx, drawCallback);\n\t\tctx.fillStyle = color;\n\t\tctx.globalCompositeOperation = options.backgroundOverlayMode;\n\t\tctx.fill();\n\t\tctx.restore();\n\t},\n\n\topaque: function(color) {\n\t\treturn helpers$1.color(color).alpha() > 0;\n\t},\n\n\tgetHoverColor: function(color) {\n\t\treturn color !== undefined ? helpers$1.getHoverColor(color) : color;\n\t},\n\n\tmergeStyle: function(target, source) {\n\t\tif (target === undefined || source === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tthis.styleKeys.forEach(function(key) {\n\t\t\ttarget[key] = source[key];\n\t\t});\n\t\treturn target;\n\t},\n\n\tsetHoverStyle: function(target, source) {\n\t\tvar keys = this.styleKeys;\n\t\tvar hoverKeys = this.hoverStyleKeys;\n\t\tvar i, ilen;\n\n\t\tif (target === undefined || source === undefined) {\n\t\t\treturn;\n\t\t}\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\n\t\t\ttarget[keys[i]] = source[hoverKeys[i]];\n\t\t}\n\t\treturn target;\n\t},\n\n\tsaveStyle: function(element) {\n\t\tvar model = element._model;\n\t\tvar previousStyle = element.$previousStyle;\n\n\t\tif (previousStyle) {\n\t\t\tthis.mergeStyle(previousStyle, model);\n\t\t}\n\t},\n\n\tresolveStyle: function(controller, element, index, options) {\n\t\tvar me = this;\n\t\tvar chart = controller.chart;\n\t\tvar dataset = chart.data.datasets[controller.index];\n\t\tvar custom = element.custom || {};\n\t\tvar keys = me.styleKeys;\n\t\tvar hoverKeys = me.hoverStyleKeys;\n\t\tvar values = {};\n\t\tvar i, ilen, key, value;\n\n\t\t// Scriptable options\n\t\tvar context = {\n\t\t\tchart: chart,\n\t\t\tdataIndex: index,\n\t\t\tdataset: dataset,\n\t\t\tdatasetIndex: element._datasetIndex\n\t\t};\n\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\n\t\t\tkey = keys[i];\n\t\t\tvalues[key] = value = resolve([\n\t\t\t\tcustom[key],\n\t\t\t\tdataset[key],\n\t\t\t\toptions[key]\n\t\t\t], context, index);\n\n\t\t\tkey = hoverKeys[i];\n\t\t\tvalues[key] = resolve([\n\t\t\t\tcustom[key],\n\t\t\t\tdataset[key],\n\t\t\t\toptions[key],\n\t\t\t\tisColorOption(key) ? me.getHoverColor(value) : value\n\t\t\t], context, index);\n\t\t}\n\n\t\treturn values;\n\t},\n\n\tresolveLineStyle: function(controller, element, options) {\n\t\tvar chart = controller.chart;\n\t\tvar dataset = chart.data.datasets[controller.index];\n\t\tvar custom = element.custom || {};\n\t\tvar keys = this.lineStyleKeys;\n\t\tvar values = {};\n\t\tvar i, ilen, key;\n\n\t\t// Scriptable options\n\t\tvar context = {\n\t\t\tchart: chart,\n\t\t\tdataset: dataset,\n\t\t\tdatasetIndex: element._datasetIndex\n\t\t};\n\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\n\t\t\tkey = keys[i];\n\t\t\tvalues[key] = resolve([custom[key], dataset[key], options[key]], context);\n\t\t}\n\n\t\treturn values;\n\t},\n\n\tresolvePointStyle: function(controller, element, index, options) {\n\t\tvar me = this;\n\t\tvar chart = controller.chart;\n\t\tvar dataset = chart.data.datasets[controller.index];\n\t\tvar custom = element.custom || {};\n\t\tvar keys = me.styleKeys;\n\t\tvar hoverKeys = me.hoverStyleKeys;\n\t\tvar pointKeys = me.pointStyleKeys;\n\t\tvar pointHoverKeys = me.pointHoverStyleKeys;\n\t\tvar values = {};\n\t\tvar i, ilen, key, value;\n\n\t\t// Scriptable options\n\t\tvar context = {\n\t\t\tchart: chart,\n\t\t\tdataIndex: index,\n\t\t\tdataset: dataset,\n\t\t\tdatasetIndex: element._datasetIndex\n\t\t};\n\n\t\tfor (i = 0, ilen = keys.length; i < ilen; ++i) {\n\t\t\tkey = keys[i];\n\t\t\tvalues[key] = value = resolve([\n\t\t\t\tcustom[key],\n\t\t\t\tdataset[pointKeys[i]],\n\t\t\t\tdataset[key],\n\t\t\t\toptions[key]\n\t\t\t], context, index);\n\n\t\t\tkey = hoverKeys[i];\n\t\t\tvalues[key] = resolve([\n\t\t\t\tcustom[key],\n\t\t\t\tdataset[pointHoverKeys[i]],\n\t\t\t\toptions[key],\n\t\t\t\tisColorOption(key) ? me.getHoverColor(value) : value\n\t\t\t], context, index);\n\t\t}\n\n\t\treturn values;\n\t}\n};\n\nvar helpers$2 = Chart.helpers;\n\n/**\n * Ported from Chart.js 2.7.3.\n *\n * Helper method to merge the opacity into a color\n * For Chart.js 2.7.3 backward compatibility\n */\nfunction mergeOpacity(colorString, opacity) {\n\t// opacity is not used in Chart.js 2.8 or later\n\tif (opacity === undefined) {\n\t\treturn colorString;\n\t}\n\tvar color = helpers$2.color(colorString);\n\treturn color.alpha(opacity * color.alpha()).rgbaString();\n}\n\nvar Tooltip = Chart.Tooltip;\n\nvar StyleTooltip = Tooltip.extend({\n\n\tinitialize: function() {\n\t\tvar me = this;\n\n\t\tTooltip.prototype.initialize.apply(me, arguments);\n\n\t\tstyleHelpers.mergeStyle(me._model, me._options);\n\t},\n\n\tupdate: function() {\n\t\tvar me = this;\n\n\t\tTooltip.prototype.update.apply(me, arguments);\n\n\t\tstyleHelpers.mergeStyle(me._model, me._options);\n\n\t\treturn me;\n\t},\n\n\tdrawBackground: function(pt, vm, ctx, tooltipSize, opacity) {\n\t\tvar me = this;\n\t\tvar args = arguments;\n\t\tvar chart = me._chart;\n\t\tvar options = helpers$2.extend({}, vm, {\n\t\t\tbevelHighlightColor: mergeOpacity(vm.bevelHighlightColor, opacity),\n\t\t\tbevelShadowColor: mergeOpacity(vm.bevelShadowColor, opacity),\n\t\t\tinnerGlowColor: mergeOpacity(vm.innerGlowColor, opacity),\n\t\t\touterGlowColor: mergeOpacity(vm.outerGlowColor, opacity)\n\t\t});\n\n\t\tvar drawCallback = function() {\n\t\t\tTooltip.prototype.drawBackground.apply(me, args);\n\t\t};\n\n\t\tstyleHelpers.drawShadow(chart, vm, drawCallback);\n\n\t\tif (styleHelpers.opaque(vm.backgroundColor)) {\n\t\t\tstyleHelpers.drawBackground(vm, drawCallback);\n\t\t\tstyleHelpers.drawBevel(chart, options, drawCallback);\n\t\t}\n\n\t\tstyleHelpers.drawInnerGlow(chart, options, drawCallback);\n\t\tstyleHelpers.drawOuterGlow(chart, options, drawCallback);\n\n\t\tstyleHelpers.drawBorder(vm, drawCallback);\n\t}\n});\n\nvar Rectangle = Chart.elements.Rectangle;\n\nvar StyleRectangle = Rectangle.extend({\n\n\tdraw: function() {\n\t\tvar me = this;\n\t\tvar args = arguments;\n\t\tvar chart = me._chart;\n\t\tvar vm = me._view;\n\n\t\tvar drawCallback = function() {\n\t\t\tRectangle.prototype.draw.apply(me, args);\n\t\t};\n\t\tvar setPathCallback = function() {\n\t\t\tme.setPath();\n\t\t};\n\n\t\tstyleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n\t\tif (styleHelpers.opaque(vm.backgroundColor)) {\n\t\t\tstyleHelpers.drawBackground(vm, drawCallback);\n\t\t\tstyleHelpers.drawBackgroundOverlay(chart, vm, setPathCallback);\n\t\t\tstyleHelpers.drawBevel(chart, vm, setPathCallback);\n\t\t}\n\n\t\tstyleHelpers.drawInnerGlow(chart, vm, setPathCallback);\n\t\tstyleHelpers.drawOuterGlow(chart, vm, setPathCallback);\n\n\t\tstyleHelpers.drawBorder(vm, drawCallback);\n\t},\n\n\tsetPath: function() {\n\t\tvar me = this;\n\t\tvar ctx = me._chart.ctx;\n\t\tvar vm = me._view;\n\t\tvar x, y, width, height;\n\n\t\tif (vm.width !== undefined) {\n\t\t\tx = vm.x - vm.width / 2;\n\t\t\twidth = vm.width;\n\t\t\ty = Math.min(vm.y, vm.base);\n\t\t\theight = Math.abs(vm.y - vm.base);\n\t\t} else {\n\t\t\tx = Math.min(vm.x, vm.base);\n\t\t\twidth = Math.abs(vm.x - vm.base);\n\t\t\ty = vm.y - vm.height / 2;\n\t\t\theight = vm.height;\n\t\t}\n\n\t\tctx.rect(x, y, width, height);\n\t}\n});\n\nvar helpers$3 = Chart.helpers;\n\nvar extend = helpers$3.extend;\n\n// Ported from Chart.js 2.8.0\nfunction swap(orig, v1, v2) {\n\treturn orig === v1 ? v2 : orig === v2 ? v1 : orig;\n}\n\n// Ported from Chart.js 2.8.0\nfunction parseBorderSkipped(vm) {\n\tvar edge = vm.borderSkipped;\n\tvar res = {};\n\n\tif (!edge) {\n\t\treturn res;\n\t}\n\n\tif (vm.horizontal) {\n\t\tif (vm.base > vm.x) {\n\t\t\tedge = swap(edge, 'left', 'right');\n\t\t}\n\t} else if (vm.base < vm.y) {\n\t\tedge = swap(edge, 'bottom', 'top');\n\t}\n\n\tres[edge] = true;\n\treturn res;\n}\n\n// Ported from Chart.js 2.8.0. Modified for style bar.\nfunction parseBorderWidth(vm) {\n\tvar value = vm.borderWidth;\n\tvar skip = parseBorderSkipped(vm);\n\tvar maxW, maxH, t, r, b, l;\n\n\tif (vm.width !== undefined) {\n\t\tmaxW = vm.width / 2;\n\t\tmaxH = Math.abs(vm.y - vm.base) / 2;\n\t} else {\n\t\tmaxW = Math.abs(vm.x - vm.base) / 2;\n\t\tmaxH = vm.height / 2;\n\t}\n\n\tif (value !== null && Object.prototype.toString.call(value) === '[object Object]') {\n\t\tt = +value.top || 0;\n\t\tr = +value.right || 0;\n\t\tb = +value.bottom || 0;\n\t\tl = +value.left || 0;\n\t} else {\n\t\tt = r = b = l = +value || 0;\n\t}\n\n\treturn {\n\t\ttop: skip.top || (t < 0) ? 0 : t > maxH ? maxH : t,\n\t\tright: skip.right || (r < 0) ? 0 : r > maxW ? maxW : r,\n\t\tbottom: skip.bottom || (b < 0) ? 0 : b > maxH ? maxH : b,\n\t\tleft: skip.left || (l < 0) ? 0 : l > maxW ? maxW : l\n\t};\n}\n\nvar BarController = Chart.controllers.bar;\n\nvar StyleBarController = BarController.extend({\n\n\tdataElementType: StyleRectangle,\n\n\tupdateElement: function(rectangle, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolveStyle(me, rectangle, index, me.chart.options.elements.rectangle);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(rectangle, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tBarController.prototype.updateElement.apply(me, arguments);\n\n\t\tdelete rectangle._model;\n\t\trectangle._model = extend(model, {\n\t\t\tparsedBorderWidth: parseBorderWidth(model)\n\t\t});\n\t\trectangle._styleOptions = options;\n\t},\n\n\tsetHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\tBarController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tBarController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar helpers$4 = Chart.helpers;\n\n// For Chart.js 2.7.3 backward compatibility\nvar isPointInArea = helpers$4.canvas._isPointInArea || function(point, area) {\n\tvar epsilon = 1e-6;\n\n\treturn point.x > area.left - epsilon && point.x < area.right + epsilon &&\n\t\tpoint.y > area.top - epsilon && point.y < area.bottom + epsilon;\n};\n\nvar Point = Chart.elements.Point;\n\nvar StylePoint = Point.extend({\n\n\tdraw: function(chartArea) {\n\t\tvar me = this;\n\t\tvar args = arguments;\n\t\tvar chart = me._chart;\n\t\tvar vm = me._view;\n\n\t\tvar drawCallback = function() {\n\t\t\tPoint.prototype.draw.apply(me, args);\n\t\t};\n\n\t\tif (vm.skip || chartArea !== undefined && !isPointInArea(vm, chartArea)) {\n\t\t\treturn;\n\t\t}\n\n\t\tstyleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n\t\tif (styleHelpers.opaque(vm.backgroundColor)) {\n\t\t\tstyleHelpers.drawBackground(vm, drawCallback);\n\t\t\tstyleHelpers.drawBackgroundOverlay(chart, vm, drawCallback);\n\t\t\tstyleHelpers.drawBevel(chart, vm, drawCallback);\n\t\t}\n\n\t\tstyleHelpers.drawInnerGlow(chart, vm, drawCallback);\n\t\tstyleHelpers.drawOuterGlow(chart, vm, drawCallback);\n\n\t\tstyleHelpers.drawBorder(vm, drawCallback);\n\t}\n});\n\nvar helpers$5 = Chart.helpers;\n\nvar extend$1 = helpers$5.extend;\n\nvar BubbleController = Chart.controllers.bubble;\n\nvar StyleBubbleController = BubbleController.extend({\n\n\tdataElementType: StylePoint,\n\n\tupdateElement: function(point, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolveStyle(me, point, index, me.chart.options.elements.point);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(point, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend$1(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tBubbleController.prototype.updateElement.apply(me, arguments);\n\n\t\tdelete point._model;\n\t\tpoint._model = model;\n\t\tpoint._styleOptions = options;\n\t},\n\n\t/**\n\t * @protected\n\t */\n\tsetHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\tBubbleController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\t/**\n\t * @protected\n\t */\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tBubbleController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar helpers$6 = Chart.helpers;\n\nvar Arc = Chart.elements.Arc;\n\nvar StyleArc = Arc.extend({\n\n\tdraw: function() {\n\t\tvar me = this;\n\t\tvar args = arguments;\n\t\tvar chart = me._chart;\n\t\tvar vm = me._view;\n\n\t\tvar drawCallback = function() {\n\t\t\tArc.prototype.draw.apply(me, args);\n\t\t};\n\n\t\tstyleHelpers.drawShadow(chart, vm, drawCallback, true);\n\n\t\tif (styleHelpers.opaque(vm.backgroundColor)) {\n\t\t\tstyleHelpers.drawBackground(vm, drawCallback);\n\t\t\tstyleHelpers.drawBackgroundOverlay(chart, vm, drawCallback);\n\t\t\tstyleHelpers.drawBevel(chart, vm.borderAlign === 'inner' ? helpers$6.extend({}, vm, {\n\t\t\t\tborderWidth: vm.borderWidth * 2\n\t\t\t}) : vm, drawCallback);\n\t\t}\n\n\t\tstyleHelpers.drawInnerGlow(chart, vm, drawCallback);\n\t\tstyleHelpers.drawOuterGlow(chart, vm, drawCallback);\n\n\t\tstyleHelpers.drawBorder(vm, drawCallback);\n\t}\n});\n\nvar defaults = Chart.defaults;\nvar helpers$7 = Chart.helpers;\n\nvar extend$2 = helpers$7.extend;\nvar resolve$1 = optionsHelpers$1.resolve;\n\n// Ported from Chart.js 2.8.0. Modified for style doughnut.\ndefaults.doughnut.legend.labels.generateLabels = defaults.pie.legend.labels.generateLabels = function(chart) {\n\tvar data = chart.data;\n\tif (data.labels.length && data.datasets.length) {\n\t\treturn data.labels.map(function(label, i) {\n\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\tvar ds = data.datasets[0];\n\t\t\tvar arc = meta.data[i] || {};\n\t\t\tvar custom = arc.custom || {};\n\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\tvar fill = resolve$1([custom.backgroundColor, ds.backgroundColor, arcOpts.backgroundColor], undefined, i);\n\t\t\tvar stroke = resolve$1([custom.borderColor, ds.borderColor, arcOpts.borderColor], undefined, i);\n\t\t\tvar bw = resolve$1([custom.borderWidth, ds.borderWidth, arcOpts.borderWidth], undefined, i);\n\n\t\t\treturn extend$2({\n\t\t\t\ttext: label,\n\t\t\t\tfillStyle: fill,\n\t\t\t\tstrokeStyle: stroke,\n\t\t\t\tlineWidth: bw,\n\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\tindex: i\n\t\t\t}, styleHelpers.resolveStyle(meta.controller, arc, i, arcOpts));\n\t\t});\n\t}\n\treturn [];\n};\n\nvar DoughnutController = Chart.controllers.doughnut;\n\nvar StyleDoughnutController = DoughnutController.extend({\n\n\tdataElementType: StyleArc,\n\n\tupdateElement: function(arc, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolveStyle(me, arc, index, me.chart.options.elements.arc);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(arc, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend$2(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tDoughnutController.prototype.updateElement.apply(me, arguments);\n\n\t\tdelete arc._model;\n\t\tarc._model = model;\n\t\tarc._styleOptions = options;\n\t},\n\n\tsetHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\tDoughnutController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tDoughnutController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar StyleHorizontalBarController = StyleBarController.extend({\n\t/**\n\t * @private\n\t */\n\t_getValueScaleId: function() {\n\t\treturn this.getMeta().xAxisID;\n\t},\n\n\t/**\n\t * @private\n\t */\n\t_getIndexScaleId: function() {\n\t\treturn this.getMeta().yAxisID;\n\t},\n\n\t/**\n\t * For Chart.js 2.7.2 backward compatibility\n\t * @private\n\t */\n\tgetValueScaleId: function() {\n\t\treturn this.getMeta().xAxisID;\n\t},\n\n\t/**\n\t * For Chart.js 2.7.2 backward compatibility\n\t * @private\n\t */\n\tgetIndexScaleId: function() {\n\t\treturn this.getMeta().yAxisID;\n\t}\n});\n\nvar Line = Chart.elements.Line;\n\nvar StyleLine = Line.extend({\n\n\tdraw: function() {\n\t\tvar me = this;\n\t\tvar args = arguments;\n\t\tvar chart = me._chart;\n\t\tvar vm = me._view;\n\n\t\tvar drawCallback = function() {\n\t\t\tLine.prototype.draw.apply(me, args);\n\t\t};\n\n\t\tstyleHelpers.drawShadow(chart, vm, drawCallback);\n\n\t\t// For outer glow\n\t\tstyleHelpers.drawShadow(chart, {\n\t\t\tshadowOffsetX: 0,\n\t\t\tshadowOffsetY: 0,\n\t\t\tshadowBlur: vm.outerGlowWidth,\n\t\t\tshadowColor: vm.outerGlowColor\n\t\t}, drawCallback);\n\n\t\tstyleHelpers.drawBorder(vm, drawCallback);\n\t}\n});\n\nvar helpers$8 = Chart.helpers;\n\nvar extend$3 = helpers$8.extend;\n\nvar LineController = Chart.controllers.line;\n\nvar StyleLineController = LineController.extend({\n\n\tdatasetElementType: StyleLine,\n\n\tdataElementType: StylePoint,\n\n\tupdate: function() {\n\t\tvar me = this;\n\t\tvar line = me.getMeta().dataset;\n\t\tvar options = styleHelpers.resolveLineStyle(me, line, me.chart.options.elements.line);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(line, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend$3(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tLineController.prototype.update.apply(me, arguments);\n\n\t\tdelete line._model;\n\t\tline._model = model;\n\t\tline._styleOptions = options;\n\t},\n\n\tupdateElement: function(point, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolvePointStyle(me, point, index, me.chart.options.elements.point);\n\n\t\tLineController.prototype.updateElement.apply(me, arguments);\n\n\t\textend$3(point._model, options);\n\t\tpoint._styleOptions = options;\n\t},\n\n\tsetHoverStyle: function(element) {\n\t\t// Point\n\t\tvar me = this;\n\n\t\tLineController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tLineController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar helpers$9 = Chart.helpers;\n\nvar extend$4 = helpers$9.extend;\nvar resolve$2 = optionsHelpers$1.resolve;\n\n// Ported from Chart.js 2.8.0. Modified for style polarArea.\nChart.defaults.polarArea.legend.labels.generateLabels = function(chart) {\n\tvar data = chart.data;\n\tif (data.labels.length && data.datasets.length) {\n\t\treturn data.labels.map(function(label, i) {\n\t\t\tvar meta = chart.getDatasetMeta(0);\n\t\t\tvar ds = data.datasets[0];\n\t\t\tvar arc = meta.data[i] || {};\n\t\t\tvar custom = arc.custom || {};\n\t\t\tvar arcOpts = chart.options.elements.arc;\n\t\t\tvar fill = resolve$2([custom.backgroundColor, ds.backgroundColor, arcOpts.backgroundColor], undefined, i);\n\t\t\tvar stroke = resolve$2([custom.borderColor, ds.borderColor, arcOpts.borderColor], undefined, i);\n\t\t\tvar bw = resolve$2([custom.borderWidth, ds.borderWidth, arcOpts.borderWidth], undefined, i);\n\n\t\t\treturn extend$4({\n\t\t\t\ttext: label,\n\t\t\t\tfillStyle: fill,\n\t\t\t\tstrokeStyle: stroke,\n\t\t\t\tlineWidth: bw,\n\t\t\t\thidden: isNaN(ds.data[i]) || meta.data[i].hidden,\n\n\t\t\t\t// Extra data used for toggling the correct item\n\t\t\t\tindex: i\n\t\t\t}, styleHelpers.resolveStyle(meta.controller, arc, i, arcOpts));\n\t\t});\n\t}\n\treturn [];\n};\n\nvar PolarAreaController = Chart.controllers.polarArea;\n\nvar StylePolarAreaController = PolarAreaController.extend({\n\n\tdataElementType: StyleArc,\n\n\tupdateElement: function(arc, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolveStyle(me, arc, index, me.chart.options.elements.arc);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(arc, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend$4(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tPolarAreaController.prototype.updateElement.apply(me, arguments);\n\n\t\tdelete arc._model;\n\t\tarc._model = model;\n\t\tarc._styleOptions = options;\n\t},\n\n\tsetHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\tPolarAreaController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tPolarAreaController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar helpers$a = Chart.helpers;\n\nvar extend$5 = helpers$a.extend;\n\nvar RadarController = Chart.controllers.radar;\n\nvar StyleRadarController = RadarController.extend({\n\n\tdatasetElementType: StyleLine,\n\n\tdataElementType: StylePoint,\n\n\tupdate: function() {\n\t\tvar me = this;\n\t\tvar line = me.getMeta().dataset;\n\t\tvar options = styleHelpers.resolveLineStyle(me, line, me.chart.options.elements.line);\n\t\tvar model = {};\n\n\t\tObject.defineProperty(line, '_model', {\n\t\t\tconfigurable: true,\n\t\t\tget: function() {\n\t\t\t\treturn model;\n\t\t\t},\n\t\t\tset: function(value) {\n\t\t\t\textend$5(model, value, options);\n\t\t\t}\n\t\t});\n\n\t\tRadarController.prototype.update.apply(me, arguments);\n\n\t\tdelete line._model;\n\t\tline._model = model;\n\t\tline._styleOptions = options;\n\t},\n\n\tupdateElement: function(point, index) {\n\t\tvar me = this;\n\t\tvar options = styleHelpers.resolvePointStyle(me, point, index, me.chart.options.elements.point);\n\n\t\tRadarController.prototype.updateElement.apply(me, arguments);\n\n\t\textend$5(point._model, options);\n\t\tpoint._styleOptions = options;\n\t},\n\n\tsetHoverStyle: function(element) {\n\t\t// Point\n\t\tvar me = this;\n\n\t\tRadarController.prototype.setHoverStyle.apply(me, arguments);\n\n\t\tstyleHelpers.saveStyle(element);\n\t\tstyleHelpers.setHoverStyle(element._model, element._styleOptions);\n\t},\n\n\tremoveHoverStyle: function(element) {\n\t\tvar me = this;\n\n\t\t// For Chart.js 2.7.2 backward compatibility\n\t\tif (!element.$previousStyle) {\n\t\t\tstyleHelpers.mergeStyle(element._model, element._styleOptions);\n\t\t}\n\n\t\tRadarController.prototype.removeHoverStyle.apply(me, arguments);\n\t}\n});\n\nvar defaults$1 = Chart.defaults;\nvar helpers$b = Chart.helpers;\n\n// For Chart.js 2.7.1 backward compatibility\nvar layouts = Chart.layouts || Chart.layoutService;\n\n// For Chart.js 2.6.0 backward compatibility\nvar valueOrDefault = helpers$b.valueOrDefault || helpers$b.getValueOrDefault;\n\n// For Chart.js 2.6.0 backward compatibility\nvar valueAtIndexOrDefault = helpers$b.valueAtIndexOrDefault || helpers$b.getValueAtIndexOrDefault;\n\n// For Chart.js 2.6.0 backward compatibility\nvar mergeIf = helpers$b.mergeIf || function(target, source) {\n\treturn helpers$b.configMerge.call(this, source, target);\n};\n\nvar extend$6 = helpers$b.extend;\n\n// Ported from Chart.js 2.8.0. Modified for style legend.\n// Generates labels shown in the legend\ndefaults$1.global.legend.labels.generateLabels = function(chart) {\n\tvar data = chart.data;\n\tvar options = chart.options.legend || {};\n\tvar usePointStyle = options.labels && options.labels.usePointStyle;\n\n\treturn helpers$b.isArray(data.datasets) ? data.datasets.map(function(dataset, i) {\n\t\tvar meta = chart.getDatasetMeta(i);\n\t\tvar controller = meta.controller;\n\t\tvar elementOpts = chart.options.elements;\n\t\tvar element, styleOptions;\n\n\t\tif (usePointStyle) {\n\t\t\telement = meta.data[0] || {};\n\t\t\tstyleOptions = styleHelpers.resolvePointStyle(controller, element, i, elementOpts.point);\n\t\t} else if (meta.dataset) {\n\t\t\telement = meta.dataset;\n\t\t\tstyleOptions = styleHelpers.resolveLineStyle(controller, element, elementOpts.line);\n\t\t} else {\n\t\t\telement = meta.data[0] || {};\n\t\t\tstyleOptions = styleHelpers.resolveStyle(controller, element, i, meta.bar ? elementOpts.rectangle : elementOpts.point);\n\t\t}\n\n\t\treturn extend$6({\n\t\t\ttext: dataset.label,\n\t\t\tfillStyle: valueAtIndexOrDefault(dataset.backgroundColor, 0),\n\t\t\thidden: !chart.isDatasetVisible(i),\n\t\t\tlineCap: dataset.borderCapStyle,\n\t\t\tlineDash: dataset.borderDash,\n\t\t\tlineDashOffset: dataset.borderDashOffset,\n\t\t\tlineJoin: dataset.borderJoinStyle,\n\t\t\tlineWidth: dataset.borderWidth,\n\t\t\tstrokeStyle: dataset.borderColor,\n\t\t\tpointStyle: dataset.pointStyle,\n\n\t\t\t// Below is extra data used for toggling the datasets\n\t\t\tdatasetIndex: i\n\t\t}, styleOptions);\n\t}, this) : [];\n};\n\nfunction drawLegendBox(chart, options, drawCallback) {\n\tvar ctx = chart.ctx;\n\n\tstyleHelpers.drawShadow(chart, options, drawCallback, true);\n\n\tif (styleHelpers.opaque(ctx.fillStyle)) {\n\t\tctx.save();\n\n\t\tctx.strokeStyle = 'rgba(0, 0, 0, 0)';\n\t\tdrawCallback();\n\n\t\tstyleHelpers.drawBackgroundOverlay(chart, options, drawCallback);\n\t\tstyleHelpers.drawBevel(chart, options, drawCallback);\n\n\t\tctx.restore();\n\t}\n\n\tstyleHelpers.drawInnerGlow(chart, options, drawCallback);\n\tstyleHelpers.drawOuterGlow(chart, options, drawCallback);\n\n\tctx.fillStyle = 'rgba(0, 0, 0, 0)';\n\tdrawCallback();\n\n\tctx.restore();\n}\n\nvar StyleLegend = Chart.Legend.extend({\n\n\tdraw: function() {\n\t\tvar me = this;\n\t\tvar chart = me.chart;\n\t\tvar globalDefaults = defaults$1.global;\n\t\tvar each = helpers$b.each;\n\t\tvar drawPoint = helpers$b.canvas.drawPoint;\n\t\tvar ctx = me.ctx;\n\t\tvar options;\n\n\t\thelpers$b.each = function(loopable, fn) {\n\t\t\teach(loopable, function(legendItem) {\n\t\t\t\tvar keys = Object.keys(legendItem);\n\t\t\t\tvar i, ilen;\n\n\t\t\t\toptions = {};\n\t\t\t\tfor (i = 0, ilen = keys.length; i < ilen; i++) {\n\t\t\t\t\toptions[keys[i]] = legendItem[keys[i]];\n\t\t\t\t}\n\t\t\t\toptions.borderColor = valueOrDefault(legendItem.strokeStyle, globalDefaults.defaultColor);\n\t\t\t\toptions.borderWidth = valueOrDefault(legendItem.lineWidth, globalDefaults.elements.line.borderWidth);\n\n\t\t\t\tfn.apply(null, arguments);\n\t\t\t});\n\t\t};\n\n\t\thelpers$b.canvas.drawPoint = function() {\n\t\t\tvar args = arguments;\n\t\t\tvar drawCallback = function() {\n\t\t\t\tdrawPoint.apply(null, args);\n\t\t\t};\n\n\t\t\tdrawLegendBox(chart, options, drawCallback);\n\t\t};\n\n\t\tctx.strokeRect = function() {\n\t\t\t// noop\n\t\t};\n\n\t\tctx.fillRect = function(x, y, width, height) {\n\t\t\tvar drawCallback = function() {\n\t\t\t\tctx.beginPath();\n\t\t\t\tctx.rect(x, y, width, height);\n\t\t\t\tctx.fill();\n\t\t\t\tif (options.borderWidth !== 0) {\n\t\t\t\t\tctx.stroke();\n\t\t\t\t}\n\t\t\t};\n\n\t\t\tdrawLegendBox(chart, options, drawCallback);\n\t\t};\n\n\t\tChart.Legend.prototype.draw.apply(me, arguments);\n\n\t\thelpers$b.each = each;\n\t\thelpers$b.canvas.drawPoint = drawPoint;\n\t\tdelete ctx.fillRect;\n\t\tdelete ctx.strokeRect;\n\t}\n});\n\n// Ported from Chart.js 2.8.0. Modified for style legend.\nfunction createNewLegendAndAttach(chart, legendOpts) {\n\tvar legend = new StyleLegend({\n\t\tctx: chart.ctx,\n\t\toptions: legendOpts,\n\t\tchart: chart\n\t});\n\n\tlayouts.configure(chart, legend, legendOpts);\n\tlayouts.addBox(chart, legend);\n\tchart.legend = legend;\n}\n\nvar StyleLegendPlugin = {\n\tid: 'legend',\n\n\t_element: StyleLegend,\n\n\t// Ported from Chart.js 2.8.0.\n\tbeforeInit: function(chart) {\n\t\tvar legendOpts = chart.options.legend;\n\n\t\tif (legendOpts) {\n\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\n\t\t}\n\t},\n\n\t// Ported from Chart.js 2.8.0.\n\tbeforeUpdate: function(chart) {\n\t\tvar legendOpts = chart.options.legend;\n\t\tvar legend = chart.legend;\n\n\t\tif (legendOpts) {\n\t\t\tmergeIf(legendOpts, defaults$1.global.legend);\n\n\t\t\tif (legend) {\n\t\t\t\tlayouts.configure(chart, legend, legendOpts);\n\t\t\t\tlegend.options = legendOpts;\n\t\t\t} else {\n\t\t\t\tcreateNewLegendAndAttach(chart, legendOpts);\n\t\t\t}\n\t\t} else if (legend) {\n\t\t\tlayouts.removeBox(chart, legend);\n\t\t\tdelete chart.legend;\n\t\t}\n\t},\n\n\t// Ported from Chart.js 2.8.0.\n\tafterEvent: function(chart, e) {\n\t\tvar legend = chart.legend;\n\t\tif (legend) {\n\t\t\tlegend.handleEvent(e);\n\t\t}\n\t}\n};\n\nvar helpers$c = Chart.helpers;\n\n// For Chart.js 2.7.1 backward compatibility\nvar layouts$1 = Chart.layouts || Chart.layoutService;\n\nvar plugins = Chart.plugins;\n\nvar styleControllers = {\n\tbar: StyleBarController,\n\tbubble: StyleBubbleController,\n\tdoughnut: StyleDoughnutController,\n\thorizontalBar: StyleHorizontalBarController,\n\tline: StyleLineController,\n\tpolarArea: StylePolarAreaController,\n\tpie: StyleDoughnutController,\n\tradar: StyleRadarController,\n\tscatter: StyleLineController\n};\n\n// Ported from Chart.js 2.8.0. Modified for style controllers.\nfunction buildOrUpdateControllers() {\n\tvar me = this;\n\tvar newControllers = [];\n\n\thelpers$c.each(me.data.datasets, function(dataset, datasetIndex) {\n\t\tvar meta = me.getDatasetMeta(datasetIndex);\n\t\tvar type = dataset.type || me.config.type;\n\n\t\tif (meta.type && meta.type !== type) {\n\t\t\tme.destroyDatasetMeta(datasetIndex);\n\t\t\tmeta = me.getDatasetMeta(datasetIndex);\n\t\t}\n\t\tmeta.type = type;\n\n\t\tif (meta.controller) {\n\t\t\tmeta.controller.updateIndex(datasetIndex);\n\t\t\tmeta.controller.linkScales();\n\t\t} else {\n\t\t\tvar ControllerClass = styleControllers[meta.type];\n\t\t\tif (ControllerClass === undefined) {\n\t\t\t\tthrow new Error('\"' + meta.type + '\" is not a chart type.');\n\t\t\t}\n\n\t\t\tmeta.controller = new ControllerClass(me, datasetIndex);\n\t\t\tnewControllers.push(meta.controller);\n\t\t}\n\t}, me);\n\n\treturn newControllers;\n}\n\n// Ported from Chart.js 2.8.0. Modified for style tooltip.\nfunction initToolTip() {\n\tvar me = this;\n\tme.tooltip = new StyleTooltip({\n\t\t_chart: me,\n\t\t_chartInstance: me, // deprecated, backward compatibility\n\t\t_data: me.data,\n\t\t_options: me.options.tooltips\n\t}, me);\n}\n\nvar descriptors = plugins.descriptors;\n\nplugins.descriptors = function(chart) {\n\tvar style = chart._style;\n\n\t// Replace legend plugin with style legend plugin\n\tif (style) {\n\t\t// chart._plugins for Chart.js 2.7.1 backward compatibility\n\t\tvar cache = chart.$plugins || chart._plugins || (chart.$plugins = chart._plugins = {});\n\t\tif (cache.id === this._cacheId) {\n\t\t\treturn cache.descriptors;\n\t\t}\n\n\t\tvar p = this._plugins;\n\t\tvar result;\n\n\t\tthis._plugins = p.map(function(plugin) {\n\t\t\tif (plugin.id === 'legend') {\n\t\t\t\treturn StyleLegendPlugin;\n\t\t\t}\n\t\t\treturn plugin;\n\t\t});\n\t}\n\n\tresult = descriptors.apply(this, arguments);\n\n\tif (style) {\n\t\tthis._plugins = p;\n\t}\n\n\treturn result;\n};\n\nvar StylePlugin = {\n\tid: 'style',\n\n\tbeforeInit: function(chart) {\n\t\tchart._style = {};\n\n\t\tchart.buildOrUpdateControllers = buildOrUpdateControllers;\n\t\tchart.initToolTip = initToolTip;\n\n\t\t// Remove the existing legend if exists\n\t\tif (chart.legend) {\n\t\t\tlayouts$1.removeBox(chart, chart.legend);\n\t\t\tdelete chart.legend;\n\t\t}\n\n\t\t// Invalidate plugin cache and create new one\n\t\tdelete chart.$plugins;\n\t\t// For Chart.js 2.7.1 backward compatibility\n\t\tdelete chart._plugins;\n\t\tplugins.descriptors(chart);\n\t}\n};\n\nChart.plugins.register(StylePlugin);\n\nreturn StylePlugin;\n\n}));\n"]},"metadata":{},"sourceType":"script"}